<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>chaining链式语法</title>
	<script src="../../js/lib/underscore-not-modified.js"></script>
	<!-- 新 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">

	<!-- 可选的Bootstrap主题文件（一般不用引入） -->
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">

	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

	<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
	<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

</head>
<body>
	<div class="container">
		<h4>链式语法</h4>
		<p>
			通过标记<code>_(obj)._chain = true;</code>来判断是否调用<code>_()</code>包装函数。
		</p>
		<p>
			<code>_(obj).value()</code>中的value方法直接返回<code>_(obj)._wrapped</code>被包裹js原生对象。
		</p>
		<h4>测试void 0</h4>
		<a href="javascript:void 0">javascript:void 0</a>
	</div>
</body>
<script>
	// 链式语法
	var stooges = [{name: 'curly', age: 25}, {name: 'moe', age: 21}, {name: 'larry', age: 23}],
		_stooges = _(stooges);

	var youngest = _.chain(stooges)
	  .sortBy(function(stooge){ return stooge.age; })
	  .map(function(stooge){ return stooge.name + ' is ' + stooge.age; })
	  .first()
	  .value();

	console.log("youngest's value is: ", youngest);
</script>
<script>
	// 个人实现
	_.chain = function(obj){
		var instance = _(obj);
		return instance;
	};

</script>
</html>