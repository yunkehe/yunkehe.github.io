<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>类型</title>
</head>
<body>
	<h2><em>undefined</em>和<em>undeclared</em>不是一回事。</h2>
	<p><code>typeof undeclared; // undefined </code></p>
	<i>typeof在哪两种情况下会返回undefined。</i>
	<strong>合理咯</strong>
	<b>家中</b>
	<a href="github.com/mathiasbynents/esrever">字符串反转</a>
</body>
<script type="text/javascript">
	// 在一定精度类判断数字计算是否相等
	if(!Number.EPSILON){
		Number.EPSILON = Math.pow(2, -52);
	}

	function numbersCloseEnoughToEqual(n1, n2) {
		return Math.abs(n1 - n2) < Number.EPSILON;
	}

	var a = 0.1 + 0.2;
	var b = 0.3;
	numbersCloseEnoughToEqual(a, b);

	// isNaN 
	if(!Number.isNaN){
		Number.isNaN = function(a){
			return a !== a;
		}

		Number.isNaN = function(n){
			return typeof n === 'number' && window.isNaN(n);
		}
	};

	// 判断是否是 -0
	function isNegZero(n) {
		n = Number(n);
		return (n === n) && (1/n === -Infinity);
	}

	// 判断两个值是否绝对相等
	if(!Object.is){
		Object.is = function(v1, v2){
			// 判断是否是 -0
			if(v1 === 0 && v2 === 0){
				return 1/v1 === 1/v2;
			}
			// 判断是否是 NaN
			if(v1 !== v1){
				return v2 !== v2;
			}

			return v1 === v2;
		}
	}

	// 简单值通过 值复制来传递
	// 包括 null/undefined/string/number/boolean/symbol
	// 对象通过引用来传递

	function referenceTest(x) {
		x.push(4);
		// x;
		x = [4, 5, 6];
		x.push(7);
	 // [4, 5, 6, 7]
	}

	var arr = [1, 2, 3];
	referenceTest(arr);
	// a的值是多少？

	// 更改基本类型的值
	function changeScalar(wrapper) {
		wrapper.a = 42;
	}

	var obj = {
		a: 2
	};

	changeScalar(obj);

	function cantChange(x){
		x = x+1;
	}

	var a = 2;
	var b = new Number(2);
	cantChange(b);
	console.log(b)
</script>
</html>