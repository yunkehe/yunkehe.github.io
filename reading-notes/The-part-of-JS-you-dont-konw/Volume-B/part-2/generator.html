<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>生成器</title>
</head>
<body>
	
</body>
<script type="text/javascript">
	var x = 1;
	function *foo(){
		x++;
		yield;
		console.log('x: ', x);
	}

	function bar(){
		x++;
	}

	var it = foo();

	it.next();
	console.log('first it.next()', x);
	bar();
	console.log('second bar()', x);
	it.next();
	console.log('third it.next()', x);

	function *foo2(x){
		var y = x * (yield);
		return y;
	}

	var it2 = foo2(6);

	// 启动生成器
	it2.next(); 

	var res = it2.next(7);

	console.log('res.value: ', res.value);

	// 双向传递消息
	function *foo3(x){
		var y = x * (yield 'hello');
		return y;
	}

	var it3 = foo3(6);

	var it3_res_1 = it3.next();
	console.log("it3.next()", it3_res_1);

	var it3_res_2 = it3.next(4);
	console.log("it3.next()", it3_res_2);

	// 好玩的来了
</script>
</html>