<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>闭包</title>
</head>
<body>
	<h4>闭包</h4>
	<p>son()拥有father()内部作用域的闭包，使得该作用域能够一直存活，以供son()在之后任何时间进行引用。</p>
	<h4>循环和闭包</h4>
	<p>for循环中的let，每次循环都会声明，随后的每个迭代都会使用上一个迭代结束时的值来初始化这个变量。</p>
</body>
<script type="text/javascript">
	function father(){
		var a = 2;

		function son(){
			console.log( a );
		};

		return son;
	}

	var closure = father();

	closure();

	// 应用
	function wait(message){

		setTimeout( function timer(){
			console.log( message );
		}, 1000 );
	};

	wait("hello, closure!");

	// 循环和闭包
	// for(var i=1; i<=5; i++){
	// 	(function(j){
	// 		setTimeout( function timer(){
	// 			console.log( "循环", j );
	// 		}, j*1000 );
	// 	})(i);
	// };

	for(let i=1; i<5; i++){
		setTimeout( function timer(){
			console.log( "循环", i );
		}, i*1000 );
	}
</script>
</html>